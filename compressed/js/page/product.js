$(function(){function t(t,i,s){var a,o,d=void 0!=s;e||(e=t.id),l[t.id+""]=i,a="<div class='"+(d?"subItem ":"")+"menu' data-nav-id='"+t.id+"'>"+t.text+"</div>",o="<div id='product_category_"+t.id+"'>";for(var n=0;n<t.list.length;n++)o+="<div class='item' pid='"+t.list[n].id+"'>                       <img src='"+t.list[n].img+"' />                       <h4>"+t.list[n].title+"</h4>                        <p>"+t.list[n].description+"</p>                   </div>";return o+="</div>",{menuHtmlStr:a,contentHtmlStr:o}}function i(){a.removeClass("curr");var t=location.hash.substr(1),i=l[t],s=a[i];h.html("<a href='product.html#"+t+"'>"+s.innerHTML+"</a>"),$(s).addClass("curr"),o.removeClass("active"),o[i].className="active"}function s(){var t=r.scrollTop();t>112&&r.width()>=1e3?(n.hasClass("fixed")||(n.addClass("fixed"),n.css("left",c.offset().left+"px")),70+n.height()+102>r.height()&&document.body.scrollHeight-r.height()-$(window).scrollTop()<82?n.addClass("bottomFixed"):n.removeClass("bottomFixed")):(n.hasClass("fixed")&&(n.removeClass("fixed"),n.css("left","0px")),n.hasClass("bottomFixed")&&n.removeClass("bottomFixed"))}var e,a,o,d=$("body").attr("data-lang"),l={},n=$("div.content-wrap>div>div.nav"),r=$(window),c=$("div.content-wrap>div"),h=$("div.path>span"),v=$("#loading");$.get("../json/product_"+d+".json",{_t:+new Date},function(d){var n,c,h,u=d.products,m="",f="",g=0;for(n=0;n<u.length;n++)if(u[n].list)h=t(u[n],g),m+=h.menuHtmlStr,f+=h.contentHtmlStr,g++;else if(u[n].category){for(m+="<div class='hasSub' data-category-id='"+u[n].id+"'>"+u[n].text+"</div><div class='menu-list subList' data-category-id='"+u[n].id+"'>",c=0;c<u[n].category.length;c++)h=t(u[n].category[c],g,u[n].id),m+=h.menuHtmlStr,f+=h.contentHtmlStr,g++;m+="</div>"}$("#leftMenu").html(m),$("#productContent").html(f),a=$("#leftMenu div.menu,#leftMenu div.hasSub"),o=$("#productContent>div"),location.hash&&void 0!=l[location.hash.substr(1)]?i():location.hash=e,window.onhashchange=function(){location.hash&&void 0!=l[location.hash.substr(1)]||(location.hash=e),i()},s(),r.scroll(function(){s()}),v.removeClass("active")},"json"),$("#leftMenu").on("click","div.menu,div.hasSub",function(){var t=$(this);if(!t.hasClass("curr"))if(t.hasClass("hasSub")){var i=t.attr("data-category-id"),s=$("#leftMenu>div.menu-list[data-category-id="+i+"]"),e=!s.is(":visible");s.slideToggle(300),e&&s.siblings("div.menu-list").slideUp()}else{if(t.hasClass("subItem")){var s=t.parent();s.is(":visible")||(s.slideToggle(300),s.siblings("div.menu-list").slideUp())}location.hash=t.attr("data-nav-id")}}),$("#productContent").on("click","div>div.item",function(){location.href="detail.html?pid="+this.getAttribute("pid")})});