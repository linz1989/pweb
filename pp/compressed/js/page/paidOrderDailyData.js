require(["css!../../compressed/css/page/"+$$.rootVm.page+".css?"+$$.rootVm.currTime,"daterangepicker","!domReady"],function(){function a(a,e,n){a=a||1;var c=formatDateRangeVal(s.val()),o=e||c.start,l=n||c.end;$.ajax({url:"api/v2/manager/datastatistics/paid_order/data",data:{startDate:o,endDate:l,page:a,pageSize:i},success:function(e){200==e.statusCode&&(d.dataList=e.respData,t.refresh({currPage:a,totalPage:e.pageCount}),avalon.scan(r[0]))}})}var t,e=$$.rootVm.page+"Ctrl"+ +new Date,r=$("#"+$$.rootVm.page+"Page"),i=20,s=$("#dataListTable>table>thead>tr.search>th>div.time>input"),n=$("#dataListTable>table>thead>tr.search>th>div.time>a");r.attr("ms-controller",e),$$.currPath.html("数据统计 >> <a href='#!/paidOrderDataStatistics'>付费预约</a> >> 每日数据");var d=avalon.define({$id:e,dataList:[]}),c=new Date,o=new Date;c.setTime(c.getTime()-2592e6),s.daterangepicker({startDate:c,endDate:o},function(t,e){n.removeClass("active"),a(1,t.format("YYYY-MM-DD"),e.format("YYYY-MM-DD"))}),t=new Pagination($("#dataListPagination"),{switchPage:function(t){a(t)}}),$("#dataListTable>table>thead>tr:eq(0)>th>div>select").on("change",function(){i=this.value,a()}),n.click(function(){var t=$(this);if(!t.hasClass("active")){t.siblings().removeClass("active"),t.addClass("active");var e=t.attr("type");if("all"!=e){var r=new Date;r.setTime(r.getTime()-24*parseInt(e)*60*60*1e3),s.data("daterangepicker").setStartDate(r),s.data("daterangepicker").setEndDate(new Date)}else s.val("");a()}}),a()});